define(["ko","jquery","underscore"],function(r,n,e){function t(o,a,f){if(1==arguments.length)return o?function(){return 0==arguments.length?o:t.apply(null,[o].concat(Array.prototype.slice.call(arguments,0)))}:null;if(n.isPlainObject(a)){var s=a.error;a=a.name}var c=u(o,a,!1);if(!c){var l=i(o,a);if(void 0!==s)return e.isFunction(s)?s(o,a,l):s;throw new Error(l)}return 2==arguments.length?!r.isObservable(o[c])&&n.isFunction(o[c])?o[c].bind(o):o[c]:o[c]=f}function u(r,e,t){if(!r)throw new Error("Object is empty");if(1==arguments.length)return function(e){return 0==arguments.length?n.map(r,function(r,n){return n}):u(r,e)};if(e=e?e.toLowerCase():e)for(var o in r)if(o.toLowerCase()==e)return o;if(t)throw new Error(i(r,e));return!1}function i(r,n){return"Property ["+n+"] not found in "+(JSON.prune?JSON.prune(r,1,10):JSON.stringify(r))}return{sure:t,name:u}});